<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>邀请函3</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/invite-2.css">
</head>
<body>
<div class="invite invite-3">
    <div class="user_info_wrapper">
        <div class="inviter_info_wrapper">
            <div class="avatar"><img src="images/img_avatar.png" alt=""></div>
            <div class="inviter_info clear">
                <span class="float-left">CK.EMBA19期校友</span>
                <span class="float-right">庞杉</span>
            </div>
            <div class="inviter_tips">
                邀请您加入长江有你俱乐部
            </div>
        </div>
        <div class="group_tips">专属长江校友的互动圈子</div>

        <!--注册，输入手机号，密码，获取验证码-->
        <div>
            <div class="user_info">
                <div class="info_tips">注册账号</div>
                <div class="row clear">
                    <label class="float-left">手机号：</label>
                    <input id="phoneNo" minlength="11" maxlength="11" class="float-left" type="text"
                           placeholder="填写你的手机号码">
                </div>
                <div class="row clear">
                    <label class="float-left">登录密码：</label>
                    <input id="password" class="float-left" minlength="6" maxlength="18" type="password"
                           placeholder="输入6-18位登录密码">
                </div>
                <div class="row clear">
                    <label class="float-left">验证码：</label>
                    <input id="verifyCode" maxlength="6" class="float-left input2" type="text">
                    <a id="aGetVerifyCode" href="javascript:getVerifyCode();"
                       class="get_verification float-left">获取验证码</a>
                </div>
            </div>
            <div class="clear" onclick="doSubmit()">
                <button>提交</button>
            </div>
        </div>
    </div>

    <!--确认注册-->
    <div id="regLayout" class="mask hide">
        <div class="pop pop_user_info">
            <div class="pop_t">信息确认</div>
            <div class="pop_c">
                <p>您的注册信息如下</p>
                <p class="item item1">姓名：小强</p>
                <p class="item item2">期数 ： CK 19</p>
                <p class="item item3">您将加入： 测试一群</p>
                <p class="item item4">登录平台手机号 : 189 8094 7663</p>
                <p class="text-right">邀请人：王炯</p>
                <div class="button_wrapper clear">
                    <a href="javascript:goBack();" class="btn btn_back float-left">返回</a>
                    <a href="javascript:doRegister();" class="btn btn_reg float-right">确认注册</a>
                </div>
            </div>
        </div>
    </div>

    <div id="downloadLayout" class="mask hide">
        <div class="pop pop_info">
            <div class="pop_t">信息确认</div>
            <div class="pop_c">
                <p>内测期间，通过校友邀请进入平台的账号可以使用所有功能。</p>
                <p>为了保证长江有你平台的专属性和私密性，长江有你平台只针对长江同学开放。</p>
                <p>您填写的注册信息已同步提交至邀请人，待邀请人帮忙确认您的真实身份，以便后期为您提供更多的服务。</p>
                <a id="aDownload" class="dl_app">下载长江有你app</a>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" language="javascript">
    /*=============
     Dom
     ============**/
    var _phoneNo = document.getElementById('phoneNo');
    var _password = document.getElementById('password');
    var _verifyCode = document.getElementById('verifyCode');
    var _aGetVerifyCode = document.getElementById('aGetVerifyCode');
    var _regLayout = document.getElementById('regLayout');
    var _downloadLayout = document.getElementById('downloadLayout');
    var _aDownload = document.getElementById('aDownload');
    var _body = document.body;


    /*=============
     Private
     ============**/
    var tik;
    var sec = 60;


    //todo 设置下载跳转地址
    _aDownload.href = "http://www.baidu.com";


    /*=============
     functions
     ============**/
    function doSubmit() {
        console.log('do sub');
        if (_phoneNo.value == "") {
            alert("请输入您的手机号码！");
            return false;
        }
        if (_phoneNo.value.length < 11) {
            alert("请输入正确的手机号码！");
            return false;
        }
        if (_password.value == "" || _password.value.length < 6) {
            alert("请输入6到18位的密码！");
            return false;
        }
        if (_verifyCode.value == "") {
            alert("请输入验证码！");
            return false;
        }
        if (_verifyCode.value.length < 6) {
            alert("请输入6位数的验证码！");
            return false;
        }

        alert("请提交表单验证");
        //todo 1》提交验证

        //'1'成功后↓
        _regLayout.style.display = "inline-block";
        _body.style.overflow = "hidden";
        //'1'成功后↑

    }

    function getVerifyCode() {
        _aGetVerifyCode.href = "javascript:console.log('un-click-able');";
        tik = setInterval(function ticTok() {
            _aGetVerifyCode.innerHTML = sec + "秒后重新获取";
            sec--;
            if (sec == 0) {
                clearInterval(tik);
                _aGetVerifyCode.innerHTML = "发送验证码";
                _aGetVerifyCode.href = "javascript:getVerifyCode();";
                sec = 60;
            }
        }, 1000);


        alert("请调用'获取验证码'接口")
        //todo 调用“获取验证码”接口

    }

    function goBack() {
        _regLayout.style.display = "none";
        _body.style.overflow = "auto";
    }

    function doRegister() {
        alert("请调用'注册'接口")
        //todo 1.调用“注册”接口

        //'1'成功后↓
        _regLayout.style.display = "none";
        _downloadLayout.style.display = "inline-block";
        //'1'成功后↑
    }
</script>
</body>
</html>